/// ----------------------------------------------------------------------

/// Colour Classes
///
/// Config file containing sass maps: 
/// ./configuration/_colours.scss

/// ----------------------------------------------------------------------

////
/// @author James Drawneek
/// @group First 10 Digital
///

///
/// Utility classes are generated based on the allowed colours for
/// that property. Rules are defined in the config file.
///
/// @example scss
///  .text--brand1 {
///      color: colour('primary', 'brand1');
///  }
///
///

$properties: (
  ('bg', 'background-color')
  ('text', 'color')
  ('border', 'border-color')
);

@each $shortname, $prop in $properties {
  
  $style: if($shortname == 'bg', $background, if($shortname == 'text', $text, $border));
  
  @each $palette in $style {
    // Get the index of the current loop, use that to get the key.
    $i: index($style, $palette);
  
    // Fetch the stylees list from the current palette.
    $getPalette: map-get($style, nth(map-keys($style), $i));
  
    @each $colour in $getPalette {
  
      // For each colour get the key to be used in stylees.
      $n: index($getPalette, $colour);
      $colourName: nth(map-keys($getPalette), $n);
  
      // Loop through the properties list to generate a style for each property and each variant.
      .#{$shortname}-colour--#{$colourName} {
        #{$prop}: colour(nth(map-keys($style), $i), $colourName);
      }
    }
  }
}